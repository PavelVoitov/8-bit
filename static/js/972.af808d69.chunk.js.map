{"version":3,"file":"static/js/972.af808d69.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogsItem.tsx","webpack://samurai-way/./src/components/Dialogs/Message/MessageItem.module.css?a146","components/Dialogs/Message/MessageItem.tsx","components/Dialogs/MessageInput/AddMessageForm.tsx","components/Dialogs/MessageInput/MessageInput.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.tsx","webpack://samurai-way/./src/components/common/FormsControls/FormControls.module.css?2a3b"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__zncmb\",\"dialogsItems\":\"Dialogs_dialogsItems__rR8mA\",\"dialog\":\"Dialogs_dialog__uLVxO\",\"active\":\"Dialogs_active__LPbYn\",\"users\":\"Dialogs_users__w15Qg\"};","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './../Dialogs.module.css';\r\n\r\n\r\ntype DialogsPropsType = {\r\n    name: string\r\n    id: number\r\n}\r\n\r\nexport const DialogItem = (props: DialogsPropsType) => {\r\n    const {name, id} = props\r\n    let path = '/dialogs/' + id\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={path}>{name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"MessageItem_message__IhPiS\",\"messageUser\":\"MessageItem_messageUser__S83vO\",\"messageImg\":\"MessageItem_messageImg__bU4tu\",\"corner\":\"MessageItem_corner__ta+x5\",\"cornerUser\":\"MessageItem_cornerUser__FvFwb\",\"time\":\"MessageItem_time__lGbhw\",\"textMessage\":\"MessageItem_textMessage__xCNya\"};","import React from \"react\";\r\nimport s from './MessageItem.module.css'\r\n\r\n\r\n\r\n\r\ntype MessagePropsType = {\r\n    message: string\r\n    id: number\r\n    sender: string\r\n}\r\n\r\n\r\n\r\nexport const MessageItem = (props: MessagePropsType) => {\r\n\r\n\r\n    const {message, id, sender} = props\r\n    return (\r\n        <div key={id} className={ sender === 'I' ? s.messageImg : s.messageUser}>\r\n            <div>\r\n                <div className={sender === 'I' ? s.corner : s.cornerUser}></div>\r\n                <div className={s.textMessage}>{message}</div>\r\n            </div>\r\n                <div className={s.time}>10:00</div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","\r\nimport React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\n\r\nexport type FormMessageDataType = {\r\n    message: string\r\n}\r\n\r\ninterface AddMessageFormType {\r\n    onSubmit: (values: FormMessageDataType) => void\r\n}\r\n\r\nconst maxLength100 = maxLengthCreator(100)\r\n\r\nexport const AddMessageForm: React.FC<InjectedFormProps<FormMessageDataType, AddMessageFormType> & AddMessageFormType> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field\r\n                component={Textarea}\r\n                validate={[required, maxLength100]}\r\n                placeholder={'Enter your message...'}\r\n                name={'message'}\r\n            ></Field>\r\n            <button>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const AddMessageReduxForm = reduxForm<FormMessageDataType, AddMessageFormType>({ form: 'dialogAddMessageForm' })(AddMessageForm)","import React from \"react\";\r\nimport {MessagesType} from \"../../../redux/messages-reducer\";\r\nimport {AddMessageReduxForm, FormMessageDataType} from \"./AddMessageForm\";\r\n\r\ntype MessageInputPropsType = {\r\n    state: MessagesType\r\n    addMessage: (newMessage: string) => void\r\n}\r\n\r\n\r\nexport const MessageInput = (props: MessageInputPropsType) => {\r\n\r\n    const addMessage = (values: FormMessageDataType) => {\r\n        props.addMessage(values.message)\r\n    }\r\n    return (\r\n        <div>\r\n            <AddMessageReduxForm\r\n                onSubmit={addMessage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport s from './Dialogs.module.css';\r\nimport {DialogItem} from \"./DialogItem/DialogsItem\";\r\nimport {MessageItem} from \"./Message/MessageItem\";\r\nimport {MessageInput} from \"./MessageInput/MessageInput\";\r\nimport {DialogsPropsType} from \"./DialogsContainer\";\r\n\r\n\r\n\r\nexport const Dialogs = (props: DialogsPropsType) => {\r\n    const { state } = props\r\n\r\n\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {state.dialogs.map(el =>\r\n                    <div className={s.users} key={el.id}>\r\n                        <img src={el.avatar} alt=\"user\"/>\r\n                        <DialogItem name={el.name} id={el.id}/>\r\n                    </div>)}\r\n            </div>\r\n            <div className={s.message}>\r\n                {state.messages.map(el =>\r\n                    <MessageItem\r\n                        key={el.id}\r\n                        message={el.message}\r\n                        id={el.id}\r\n                        sender={el.sender}\r\n                    />)}\r\n               <MessageInput\r\n                   addMessage={props.addMessage}\r\n                   state={state}\r\n\r\n               />\r\n            </div>\r\n            <div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {ComponentType} from \"react\";\r\nimport {ReducerPropsType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\ntype mapStateToPropsForRedirect = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: ReducerPropsType): mapStateToPropsForRedirect => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    const RedirectComponent = (props: mapStateToPropsForRedirect) => {\r\n    let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to='/login'/>\r\n        return  <Component {...restProps as T}/>\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","import React from \"react\";\r\nimport {ReducerPropsType} from \"redux/redux-store\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {MessagesType, sendMessageAC} from \"redux/messages-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose, Dispatch} from 'redux'\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"hoc/withAuthRedirect\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    state: MessagesType\r\n}\r\n\r\ntype MapDispatchToProps = {\r\n    addMessage: (newMessage: string) => void\r\n}\r\n\r\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToProps\r\n\r\ntype CommonPropsType = RouteComponentProps & DialogsPropsType\r\n\r\nclass DialogsContainer extends React.Component<CommonPropsType, {}> {\r\n\r\n\r\n    render() {\r\n\r\n        return (<>\r\n                <div>\r\n                    <Dialogs {...this.props}/>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: ReducerPropsType): MapStateToPropsType => {\r\n    return {\r\n        state: state.messagesPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToProps => {\r\n    return {\r\n        addMessage: (newMessage: string) => {\r\n           dispatch(sendMessageAC(newMessage))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(DialogsContainer)","import s from './FormControls.module.css'\r\nimport React from \"react\";\r\nimport {useFormikContext} from \"formik\";\r\n\r\ntype TextareaPropsType = {\r\n    input: {}\r\n    meta: {\r\n        error: string\r\n        touched: boolean\r\n    }\r\n    children: JSX.Element\r\n}\r\n\r\n\r\nconst FormControl = ({meta: {touched, error}, children}: TextareaPropsType) => {\r\n    const hasError = touched && error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props: TextareaPropsType) => {\r\n    const {input, meta, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n\r\n}\r\n\r\nexport const Input = (props: TextareaPropsType) => {\r\n    const {input, meta, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n","export const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator= (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormControls_formControl__NSDV3\",\"error\":\"FormControls_error__eWZI7\",\"formSummaryError\":\"FormControls_formSummaryError__zQsfM\"};"],"names":["DialogItem","props","name","path","id","className","s","to","MessageItem","message","sender","maxLength100","maxLengthCreator","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","MessageInput","values","addMessage","Dialogs","state","dialogs","map","el","src","avatar","alt","messages","mapStateToPropsForRedirect","isAuth","auth","DialogsContainer","this","React","compose","connect","messagesPage","dispatch","newMessage","sendMessageAC","withRouter","Component","restProps","FormControl","meta","touched","error","children","hasError","input","Input","value","maxLength","length"],"sourceRoot":""}