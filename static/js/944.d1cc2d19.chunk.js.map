{"version":3,"file":"static/js/944.d1cc2d19.chunk.js","mappings":"iQAuBaA,EACgB,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,WACnD,OACC,kBAAMC,SAAUH,EAAhB,WACC,0BACC,SAAC,IAAD,CAAOI,YAAa,QAChBC,UAAWC,EAAAA,EACXC,KAAM,QACNC,SAAU,CAACC,EAAAA,QAGhB,0BACC,SAAC,IAAD,CAAOC,KAAK,WACRN,YAAa,WACbC,UAAWC,EAAAA,EACXC,KAAM,WACNC,SAAU,CAACC,EAAAA,QAGhB,4BACC,SAAC,IAAD,CAAOC,KAAK,WACRL,UAAWC,EAAAA,EACXC,KAAM,eAHX,kBAMCL,IAAc,gBAAKS,IAAKT,EAAYU,IAAI,YACxCV,IAAc,SAAC,IAAD,CAAOE,YAAa,qBACVC,UAAWC,EAAAA,EACXC,KAAM,UACNC,SAAU,CAACC,EAAAA,KAEnCR,IACC,gBAAKY,UAAWC,EAAAA,EAAAA,iBAAhB,SACEb,KAEJ,0BACC,4CAMEc,GAAiBC,EAAAA,EAAAA,GAAgD,CAACC,KAAM,SAAvDD,CAAiEjB,GAqCxF,WAAemB,EAAAA,EAAAA,KARS,SAACC,GACxB,MAAO,CACNC,OAAQD,EAAME,KAAKD,OACnBlB,WAAYiB,EAAME,KAAKnB,cAKe,CAACoB,MAAAA,EAAAA,IAAzC,EA9Bc,SAACC,GAMd,OAAIA,EAAMH,QACF,SAAC,KAAD,CAAUI,GAAI,cAGrB,4BACC,mCACA,SAACT,EAAD,CAAgBZ,SAVD,SAACsB,GACjBF,EAAMD,MAAMG,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UASxC3B,WAAYqB,EAAMrB,oB,sKCtEnD4B,EAAc,SAAC,GAA2D,IAAD,IAAzDC,KAAOC,EAAkD,EAAlDA,QAAS/B,EAAyC,EAAzCA,MAAQgC,EAAiC,EAAjCA,SACpCC,EAAWF,GAAW/B,EAE5B,OACI,iBAAKY,UAAWC,EAAAA,EAAAA,YAAgB,KAAOoB,EAAWpB,EAAAA,EAAAA,MAAU,IAA5D,WACI,yBACKmB,IAEJC,IAAY,0BAAOjC,QAKnBkC,EAAW,SAACZ,GACrB,IAAOa,EAA6Bb,EAA7Ba,MAAgBC,GAAad,EAAtBQ,MAAd,OAAoCR,EAApC,IACA,OACI,SAACO,GAAD,kBAAiBP,GAAjB,cAAwB,uCAAca,GAAWC,QAK5C/B,EAAQ,SAACiB,GAClB,IAAOa,EAA6Bb,EAA7Ba,MAAgBC,GAAad,EAAtBQ,MAAd,OAAoCR,EAApC,IACA,OACI,SAACO,GAAD,kBAAiBP,GAAjB,cAAwB,oCAAWa,GAAWC,S,4ECtC/C,IAAM5B,EAAW,SAAC6B,GACrB,IAAIA,EACJ,MAAO,qBAGEC,EAAkB,SAACC,GAAD,OAAuB,SAACF,GACnD,GAAIA,GAASA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,kBCL3C,KAAgB,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB","sources":["components/Login/Login.tsx","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.tsx","webpack://samurai-way/./src/components/common/FormsControls/FormControls.module.css?2a3b"],"sourcesContent":["import React from 'react'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {connect} from \"react-redux\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"utils/validators/validators\";\r\nimport {login} from \"redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {ReducerPropsType} from \"redux/redux-store\";\r\nimport s from '../common/FormsControls/FormControls.module.css'\r\n\r\n\r\nexport type FormDataType = {\r\n\temail: string\r\n\tpassword: string\r\n\trememberMe: boolean\r\n\tcaptcha: string\r\n}\r\n\r\nexport type  LoginDataFormPropsType = {\r\n\tonSubmit: (values: FormDataType) => void\r\n\tcaptchaUrl: string | null\r\n}\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType, LoginDataFormPropsType>\r\n\t& LoginDataFormPropsType> = ({handleSubmit, error, captchaUrl}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field placeholder={'Email'}\r\n\t\t\t\t\t\t\t component={Input}\r\n\t\t\t\t\t\t\t name={'email'}\r\n\t\t\t\t\t\t\t validate={[required]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field type=\"password\"\r\n\t\t\t\t\t\t\t placeholder={'Password'}\r\n\t\t\t\t\t\t\t component={Input}\r\n\t\t\t\t\t\t\t name={'password'}\r\n\t\t\t\t\t\t\t validate={[required]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field type=\"checkbox\"\r\n\t\t\t\t\t\t\t component={Input}\r\n\t\t\t\t\t\t\t name={'rememberMe'}\r\n\t\t\t\t/> remember me\r\n\t\t\t</div>\r\n\t\t\t{captchaUrl && <img src={captchaUrl} alt=\"captcha\"/>}\r\n\t\t\t{captchaUrl && <Field placeholder={'Symbols from image'}\r\n                            component={Input}\r\n                            name={'captcha'}\r\n                            validate={[required]}\r\n      />}\r\n\t\t\t{error &&\r\n\t\t\t\t\t<div className={s.formSummaryError}>\r\n\t\t\t\t\t\t{error}\r\n          </div>}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType, LoginDataFormPropsType>({form: 'login'})(LoginForm)\r\n\r\n\r\ntype LoginPropsType = {\r\n\tlogin: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\n\r\nconst Login = (props: LoginPropsType & MapStateToProps) => {\r\n\r\n\tconst onSubmit = (formData: FormDataType) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={'/profile'}/>\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>LOGIN</h1>\r\n\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\ntype MapStateToProps = {\r\n\tisAuth: boolean\r\n\tcaptchaUrl: string | null\r\n}\r\n\r\nconst mapStateToProps = (state: ReducerPropsType): MapStateToProps => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tcaptchaUrl: state.auth.captchaUrl\r\n\t}\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import s from './FormControls.module.css'\r\nimport React from \"react\";\r\nimport {useFormikContext} from \"formik\";\r\n\r\ntype TextareaPropsType = {\r\n    input: {}\r\n    meta: {\r\n        error: string\r\n        touched: boolean\r\n    }\r\n    children: JSX.Element\r\n}\r\n\r\n\r\nconst FormControl = ({meta: {touched, error}, children}: TextareaPropsType) => {\r\n    const hasError = touched && error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props: TextareaPropsType) => {\r\n    const {input, meta, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n\r\n}\r\n\r\nexport const Input = (props: TextareaPropsType) => {\r\n    const {input, meta, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n","export const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator= (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormControls_formControl__NSDV3\",\"error\":\"FormControls_error__eWZI7\",\"formSummaryError\":\"FormControls_formSummaryError__zQsfM\"};"],"names":["LoginForm","handleSubmit","error","captchaUrl","onSubmit","placeholder","component","Input","name","validate","required","type","src","alt","className","s","LoginReduxForm","reduxForm","form","connect","state","isAuth","auth","login","props","to","formData","email","password","rememberMe","captcha","FormControl","meta","touched","children","hasError","Textarea","input","restProps","value","maxLengthCreator","maxLength","length"],"sourceRoot":""}